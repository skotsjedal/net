{% extends '_layout.html' %}

{% block body %}
    <h1>{{ form.update|yesno:"Edit,New" }} Blogpost</h1>
    <br/><br/>

    <form action="" method="POST" class="form-horizontal">
        {% csrf_token %}
        <div class="form-group">

            <label for="id_title" class="col-md-2 control-label">Title</label>

            <div class="col-md-6">
                <input class="form-control" id="id_title" maxlength="30" name="title" type="text"
                       value="{{ post.title }}"/>
                {#                {{ form.title }}#}
            </div>
        </div>
        <div class="form-group">

            <label for="id_content" class="col-md-2 control-label">Content</label>

            <div class="col-md-10">
                <textarea class="form-control" cols="60" id="id_content" name="content"
                          rows="30">{{ post.content }}</textarea>
                {#                {{ form.content }}#}
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-6">
                <button type="submit" class="btn btn-default">Save</button>
                {% if form.update %}
                    <a href="#" class="btn btn-warning deletePostBtn">Delete</a>
                    <div id="deleteForm" style="display: none;">
                        <strong>Are you sure you want to delete this post?</strong>
                        <a href="#" data-target="{% url 'delete-post' pk=post.id %}" data-redirect="{% url 'blog' %}"
                           class="btn btn-danger" id="deletePost">Yes</a>
                        <a href="#" class="btn btn-success deletePostBtn">No</a>
                    </div>
                {% endif %}
            </div>
        </div>
    </form>

    <div class="col-md-offset-1 col-md-6">
    <a href="{% url "blog" %}">Back to blog</a>
    </div>
{% endblock %}

{% block scripts %}
    <script type="application/javascript" src="{{ STATIC_URL }}js/editblog.js"></script>
{% endblock %}